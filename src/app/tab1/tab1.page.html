<ion-header>
  <ion-toolbar>
    <ion-title>
      {{recipie.name}}
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-card class="welcome-card">
    <ion-img class="recipe-img" [src]="recipie.image"></ion-img>
    <ion-card-header>
      <ion-card-subtitle>
        <ion-chip *ngFor="let tag of recipie.keywords" color="primary" outline>
          <ion-label>{{tag}}</ion-label>
        </ion-chip>
      </ion-card-subtitle>
      <ion-card-title>{{recipie.name}}</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <p>{{recipie.description || 'Keine Beschreibung'}} </p>

    </ion-card-content>
  </ion-card>
  <ion-card>
    <ion-card-content>
      <ion-grid>
        <ion-row>
          <ion-col size-md="4" size="12">
            <ion-list>
              <ion-item class="portion-size" *ngIf="recipie.yield">
                <ion-label>{{recipie.yield.type}}</ion-label>
                <ion-input text-end (ngModelChange)="onYieldChange($event)" type="number" [(ngModel)]="feeds" min="1"
                  required="true" debounce="250" inputmode="numeric">
                </ion-input>
              </ion-item>
              <ion-item *ngIf="recipie?.prepTime">
                <ion-label>Vorbereitungszeit</ion-label>
                {{recipie.prepTime}}
              </ion-item>
              <ion-item *ngIf="recipie?.cookTime">
                <ion-label>Koch-/Backzeit</ion-label>
                {{recipie.cookTime}}
              </ion-item>
              <ion-item *ngIf="recipie?.calories">
                <ion-label>Kalorien</ion-label>
                {{recipie.calories}}
              </ion-item>
              <ion-item *ngIf="recipie?.difficulty">
                <ion-label>Schwierigkeit</ion-label>
                {{recipie.difficulty}}
              </ion-item>
            </ion-list>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-card-content>
  </ion-card>
  <ion-card>
    <ion-card-content>
      <ion-grid>
        <ion-row *ngFor="let step of recipie?.steps">
          <ion-col size-md="4" size="12" *ngIf="step.ingredients" align-self-start>
            <ion-text *ngFor="let ingr of step.ingredients">{{displayIngredient(ingr)}} <br
                *ngIf="step.ingredients.length > 1"></ion-text>
          </ion-col>
          <ion-col align-self-end class="instructions">
            <div *ngIf="!step.hideArrow" class=ion-margin-end>&rArr;</div>
            <ion-text [innerHTML]="diplayInstructions(step.instructions)">
            </ion-text>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-card-content>
  </ion-card>
  <ion-card>
    <ion-card-content>
      <div *ngFor="let remark of recipie?.finalRemarks">
        <h2>{{remark.title}}</h2>
        <p>{{remark.text}}</p>
      </div>
    </ion-card-content>
  </ion-card>
</ion-content>